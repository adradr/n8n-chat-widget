<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>n8n Chat Widget - Demo & Integration Guide</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .demo-content {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            padding: 40px;
            border-radius: 12px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        }

        h1 {
            color: #333;
            text-align: center;
            margin-bottom: 10px;
        }

        h2 {
            color: #555;
            margin-top: 40px;
            border-bottom: 2px solid #eee;
            padding-bottom: 10px;
        }

        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 30px;
        }

        p {
            line-height: 1.6;
            color: #666;
        }

        .feature-list {
            list-style: none;
            padding: 0;
            margin: 30px 0;
        }

        .feature-list li {
            padding: 10px 0;
            border-bottom: 1px solid #eee;
        }

        .feature-list li:last-child {
            border-bottom: none;
        }

        .warning {
            background: #fff3cd;
            border: 1px solid #ffc107;
            border-radius: 8px;
            padding: 15px;
            margin: 20px 0;
        }

        .warning strong {
            color: #856404;
        }

        code {
            background: #f8f9fa;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
        }

        .code-block {
            background: #f4f4f4;
            border: 1px solid #ddd;
            border-radius: 4px;
            padding: 15px;
            margin: 20px 0;
            overflow-x: auto;
        }

        .code-block pre {
            margin: 0;
            white-space: pre-wrap;
        }

        .option {
            margin: 30px 0;
            padding: 20px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            background: #fafafa;
        }

        .option h3 {
            margin-top: 0;
            color: #555;
        }

        .note {
            background: #e3f2fd;
            padding: 15px;
            border-left: 4px solid #2196f3;
            margin: 20px 0;
        }

        .divider {
            height: 2px;
            background: linear-gradient(to right, #667eea, #764ba2);
            margin: 40px 0;
            border-radius: 2px;
        }
    </style>
    
    <!-- Load Geist font -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/geist@1.0.0/dist/fonts/geist-sans/style.css">
    
    <!-- Load chat widget styles -->
    <link rel="stylesheet" href="src/chat-widget.css">
</head>

<body>
    <div class="demo-content">
        <h1>ü§ñ n8n Chat Widget</h1>
        <p class="subtitle">Demo & Integration Guide</p>
        
        <div class="warning">
            <strong>‚ö†Ô∏è Demo Mode:</strong> This demo uses a placeholder webhook URL. To test with your own n8n instance, update the <code>webhook.url</code> in the configuration at the bottom of this file.
        </div>

        <h2>‚ú® Features</h2>
        <ul class="feature-list">
            <li>üöÄ <strong>Real-time streaming</strong> - Watch responses appear as they're generated</li>
            <li>üíæ <strong>Session persistence</strong> - Your chat history is saved locally</li>
            <li>üé® <strong>Full customization</strong> - Colors, branding, and position are configurable</li>
            <li>üì± <strong>Mobile responsive</strong> - Works perfectly on all devices</li>
            <li>üîå <strong>Easy integration</strong> - Single script tag implementation</li>
        </ul>

        <h2>üß™ Try the Widget</h2>
        <p>Click the chat icon in the bottom right corner to test the widget!</p>
        <ol>
            <li>Click the chat bubble to open the widget</li>
            <li>Type a message and press Enter</li>
            <li>Watch the streaming response appear</li>
            <li>Your conversation is automatically saved</li>
        </ol>

        <div class="divider"></div>

        <h2>üîß Integration Methods</h2>
        <p>Choose one of the following methods to integrate the widget into your website:</p>

        <div class="option">
            <h3>Option 1: CDN Integration (Recommended)</h3>
            <p>The easiest way - load directly from CDN:</p>
            <div class="code-block">
                <pre>&lt;!-- Add before closing &lt;/head&gt; tag --&gt;
&lt;link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/adradr/n8n-chat-widget@latest/dist/chat-widget.min.css"&gt;

&lt;!-- Add before closing &lt;/body&gt; tag --&gt;
&lt;script src="https://cdn.jsdelivr.net/gh/adradr/n8n-chat-widget@latest/dist/chat-widget.min.js"&gt;&lt;/script&gt;</pre>
            </div>
        </div>

        <div class="option">
            <h3>Option 2: Self-Hosted Bundle</h3>
            <p>Single file that includes everything (CSS + JS):</p>
            <div class="code-block">
                <pre>&lt;!-- Add before closing &lt;/body&gt; tag --&gt;
&lt;script src="dist/chat-widget.bundle.js"&gt;&lt;/script&gt;</pre>
            </div>
        </div>

        <div class="option">
            <h3>Option 3: Separate Files</h3>
            <p>Load CSS and JavaScript separately:</p>
            <div class="code-block">
                <pre>&lt;!-- Add to &lt;head&gt; --&gt;
&lt;link rel="stylesheet" href="dist/chat-widget.min.css"&gt;

&lt;!-- Add before closing &lt;/body&gt; tag --&gt;
&lt;script src="dist/chat-widget.min.js"&gt;&lt;/script&gt;</pre>
            </div>
        </div>

        <h2>‚öôÔ∏è Configuration</h2>
        <p>Add this configuration after loading the widget script:</p>
        
        <div class="code-block">
            <pre>&lt;script&gt;
    window.ChatWidgetConfig = {
        webhook: {
            url: 'YOUR_N8N_WEBHOOK_URL',  // Required: Your n8n webhook endpoint
            route: 'general',               // Required: Route identifier
            streaming: true                 // Optional: Enable streaming (default: true)
        },
        branding: {
            logo: 'YOUR_LOGO_URL',          // Optional: Your company logo
            name: 'Your Bot Name',          // Optional: Display name
            welcomeText: 'Hello! üëã How can I help?',  // Optional: Welcome message
            responseTimeText: 'Typically replies instantly',  // Optional
            poweredBy: {
                text: 'Powered by YourCompany',  // Optional
                link: 'https://yourcompany.com'   // Optional
            }
        },
        style: {
            primaryColor: '#007bff',       // Optional: Main color
            secondaryColor: '#6c757d',     // Optional: Secondary color
            position: 'right',              // Optional: 'left' or 'right'
            backgroundColor: '#ffffff',     // Optional: Chat background
            fontColor: '#333333'           // Optional: Text color
        },
        debug: false  // Optional: Enable console logging
    };
&lt;/script&gt;</pre>
        </div>

        <div class="note">
            <strong>üìù Note:</strong> Don't forget to configure the widget with your actual n8n webhook URL before deploying to production!
        </div>
    </div>

    <!-- Widget Configuration -->
    <script>
        window.ChatWidgetConfig = {
            webhook: {
                // REPLACE WITH YOUR N8N WEBHOOK URL
                url: 'https://your-n8n-instance.com/webhook/your-webhook-id/chat',
                route: 'general',
                streaming: true // Enable streaming responses
            },
            branding: {
                // Optional: Add your logo URL
                logo: 'https://raw.githubusercontent.com/n8n-io/n8n/master/assets/n8n-logo.png',
                name: 'Demo Bot',
                welcomeText: 'Hello! üëã How can I help you today?',
                responseTimeText: 'Typically replies in seconds',
                poweredBy: {
                    text: 'Powered by n8n',
                    link: 'https://n8n.io'
                }
            },
            style: {
                primaryColor: '#ff6d5a',
                secondaryColor: '#ff9b88',
                position: 'right',
                backgroundColor: '#ffffff',
                fontColor: '#333333'
            },
            // All text is customizable for internationalization
            labels: {
                inputPlaceholder: 'Type your message here...',
                newChatButton: 'Send us a message',
                clearHistoryTooltip: 'Clear conversation',
                closeButtonTooltip: 'Close',
                errorMessage: 'An error occurred while receiving the response.',
                connectionErrorMessage: 'Connection error. Please check your internet connection.'
            },
            // Custom loading messages (set to empty array to disable)
            loadingMessages: [
                { emoji: 'üí≠', text: 'Thinking...' },
                { emoji: 'üîç', text: 'Processing your request...' },
                { emoji: '‚è≥', text: 'Just a moment...' },
                { emoji: 'üéØ', text: 'Preparing response...' }
            ],
            loadingMessageDelay: 5000,     // Start after 5 seconds
            loadingMessageInterval: 3000,  // Change message every 3 seconds
            debug: true // Enable debug mode to see console logs
        };
    </script>

    <!-- Load chat widget scripts -->
    <script src="src/chat-widget-config.js"></script>
    <script src="src/chat-widget-streaming.js"></script>
</body>

</html>